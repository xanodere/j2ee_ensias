<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
<link th:href="@{/css/movies.css}" type="text/css" rel="stylesheet"/>
<script src="https://kit.fontawesome.com/dd36616560.js" crossorigin="anonymous"></script>
<title>Update Cast</title>
</head>
<body style="background: rgba(180, 184, 185, 1);">
<div class="bg-gray-300">
<div class="container text-center">

	<div class="bg-light p-3 container w-50">
		<h2>Choisir/Ajouter des auteurs</h2>
		<p>
			Click sur les auteurs ci-dessous pour ajouter<br>
			Si l'auteur n'est pas dans la liste vous pouvez l'ajouter<br>
			Utiliser Ctrl+f pour localiser le auteur que vous recherchez
		</p>
		
		<h6 style="margin-right: 15px;" class="bg-dark text-light p-3">Tout les auteurs</h6>
		<div class="table-responsive table-wrapper-scroll text-center overflow-auto" style="height:400px;">
			<table class="table table-striped table-hover table-bordered table-sm">
				<th:block th:each="actor, iterStat:${actors}">
					<tr th:onclick="'javascript:addToCast(\'' + ${actor.actor_id} + '\');'">
						<td th:text="${actor.actor_id}"></td>
						<td th:text="${actor.actor_name}"></td>
					</tr>
				</th:block>
			</table>
		</div>
		
		<div class="mt-2">
			<form class="form-group" action="#" th:action="@{/movies/new/actor}" th:object="${actor}" method="POST">
				<span class="col-sm-1 mt-4">Add new actor to the list</span></br>
				<input id="new_actor" class="mt-2" type="text" th:field="*{actor_name}" style="height:40px; width:40vh;" placeholder="Enter an actor name"/>
				<span><button class="btn btn-dark text-light" style="margin-bottom:5px;" type="submit"><i class="fas fa-plus"></i></button></span>
			</form>
		</div>
		
		<div class="container mt-4">
			<h6>AUTEURS</h6>
			<form class="form-group" action="#" th:action="@{/movies/edit/confirm/{id}(id=${movie_id})}" th:object="${textForm}" method="POST">
				<input id="cast_input" class="form-control input-sm" th:field="*{text}" type="text" readonly/>
				<button type="submit" class="btn btn-dark text-light mt-3"><i class="fas fa-check"></i> CONFIRM</button>
			</form>
		</div>
		
	</div>
</div>

<script type="text/javascript" th:src="@{/js/castEdit.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>

</body>
</html>